% SPDX-FileCopyrightText: 2023 Mark Thurston
%
% SPDX-License-Identifier: Apache-2.0

\documentclass{beamer}

% https://deic.uab.cat/~iblanes/beamer_gallery/index_by_theme.html
\usetheme{Copenhagen}
% https://deic.uab.cat/~iblanes/beamer_gallery/index_by_color.html
\usecolortheme{beaver}

\setbeamertemplate{items}[circle]

% font config (https://tug.org/FontCatalogue/)
\usepackage[T1]{fontenc}
\usepackage[usefilenames,DefaultFeatures={Ligatures=Common}]{plex-otf} %
\renewcommand*\familydefault{\ttdefault} %% Only if the base font of the document is to be monospaced
% for GitHub icon
\usepackage{fontawesome}
\usepackage{tikz}

\usepackage{hyperref}
\hypersetup{
    colorlinks=true,
    linkcolor=blue,
    filecolor=magenta,
    urlcolor=cyan}

% UK date format
% https://anorien.csc.warwick.ac.uk/mirrors/CTAN/macros/latex/contrib/datetime2
\usepackage[useregional]{datetime2}

\usepackage[backend=biber,style=numeric-comp]{biblatex}
\addbibresource{bibliography.bib}

% title page details %%%%%%%%%%%%%%%%%%%
\title{Introduction to DICOM}
\subtitle{Academy Research Day}
\author{Dr Mark Thurston}
\institute{\href{https://github.com/plymouth-neuroimaging/research-academy
    }{\faGithub{} plymouth-neuroimaging}
}
\date{\DTMdisplaydate{2023}{07}{28}{Friday}}
\logo{\includegraphics[width=2.5cm]{images/uoplogo.jpg}}
\titlegraphic{
    \begin{tikzpicture}[overlay,remember picture]
        \node[below=1cm] at (current page.north){
            \includegraphics[width=2cm]{images/dicomlogo.jpg}
            };
    \end{tikzpicture}
}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{document}

\begin{frame}
    \titlepage{}
\end{frame}

\begin{frame}{Outline}
    \begin{itemize}
        \item{Clinical relevance}
        \item{File format}
        \item{Network protocol}
        \item{Examples}
        \item{Hands-on practice}
    \end{itemize}
\end{frame}

\begin{frame}{Clinical relevance}
    Knowing a bit about DICOM can be useful:
    \begin{itemize}
        \item{Sorting Osirix/Horos libraries}
        \item{Finding a bit more about acquisition parameters (e.g. MRI)}
        \item{Converting DICOM files to images/videos for teaching}
        \item{Machine learning research projects}
            \begin{itemize}
                \item{Batch download of image data}
                \item{Batch anonymisation}
            \end{itemize}
    \end{itemize}
\end{frame}

\begin{frame}{DICOM File format}
    \tiny\textit{{``A key feature in the design of the PACS is that the image
    data sent from the modalities and stored in the archive are in a format
    that can be recognized and used within the complete system. The image file
    contains the basic digital data that allow it to be displayed, but it also
    contains essential information including the imaging modality, annotations,
    display preferences, the patientâ€™s name and other identifying data. The
    presentation of these data must be in a standard format, and the standard
    used is DICOM. The standard is complex. \ldots{}}''
    }\cite[88]{allisy-roberts_farrs_2008}
\end{frame}

\begin{frame}{DICOM File format}
\end{frame}

\begin{frame}{DICOM Network protocol}
    \begin{enumerate}
        \item{\textbf{C-ECHO}: The most basic command. \textit{``Are you there?''}}
        \item{\textbf{C-FIND}: functionality similar to the explorer patient search window on PACS \textit{``What scans has patient with ID xxxxxx had?''}}
        \item{\textbf{C-MOVE}: transfers image data between devices \textit{``Can you send me the pictures for the study with ID xxxxxx?''}}
    \end{enumerate}
\end{frame}

\begin{frame}{Hands-on practice}
    Resources
    \begin{itemize}
        \item{\href{https://dcmtk.org/}{DCMTK}: a set of free tools to work with the DICOM network protocol and DICOM files}
            \begin{itemize}
                \item{\textit{brew install dcmtk}}
            \end{itemize}
        \item{\href{https://dicomserver.co.uk/}{dicomserver.co.uk}: a generic DICOM server for public use from one of the inventors of DICOM}.
            \begin{itemize}
                \item{Hostname: \textit{dicomserver.co.uk}}
                \item{Port: \textit{104 } or \textit{11112}}
            \end{itemize}
    \end{itemize}
\end{frame}

\begin{frame}{C-ECHO}
    \textit{echoscu}
\end{frame}

\begin{frame}{C-FIND}
\end{frame}

\begin{frame}{C-MOVE}
\end{frame}

\begin{frame}{References}
    \renewcommand*{\bibfont}{\tiny}
    \printbibliography{}
\end{frame}


\end{document}
